<div class="page container">
  <header class="flex-row justify-between align-center">
    <h1>People</h1>
    <div>
      <button (click)="filter()" mat-raised-button color="accent" class="mr-2">
        Filter
      </button>
      <a [routerLink]="urls.person.add()" mat-raised-button color="primary">
        Add
      </a>
    </div>
  </header>
  <main>
    <ng-container *ngIf="payload$ | async as payload">
      <table mat-table [dataSource]="payload.items" class="mat-elevation-z8">
        <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

        <!-- First Name Column -->
        <ng-container matColumnDef="first name">
          <th mat-header-cell *matHeaderCellDef>First Name</th>
          <td mat-cell *matCellDef="let person">
            <a [routerLink]="urls.person.detail(person._id)">
              {{ person.name.first }}
            </a>
          </td>
        </ng-container>

        <!-- Last Name Column -->
        <ng-container matColumnDef="last name">
          <th mat-header-cell *matHeaderCellDef>Last Name</th>
          <td mat-cell *matCellDef="let person">{{ person.name.last }}</td>
        </ng-container>

        <!-- Birthday Column -->
        <ng-container matColumnDef="birthday">
          <th mat-header-cell *matHeaderCellDef>Birthday</th>
          <td mat-cell *matCellDef="let person">{{ person.birthday }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns"></tr>
      </table>
    </ng-container>
  </main>
</div>
